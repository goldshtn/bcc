.TH biosnoop 8  "2015-09-16" "USER COMMANDS"
.SH NAME
biosnoop \- Trace block device I/O and print details incl. issuing PID.
.SH SYNOPSIS
.B biosnoop [\-h] [\-Q]
.SH DESCRIPTION
This tool traces block device I/O (disk I/O), and prints a one-line summary
for each I/O showing various details. These include the latency from the time of
issue to the device to its completion, and the PID and process name of the
process responsible for issuing the I/O.

This works by using the kernel block I/O tracepoints, which are a stable kernel
tracing event source. Attaching BPF programs to tracepoints requires Linux 4.7.
For kernels older than 4.7, see the version under tools/old, which uses a
different mechanism based on kprobes.

Since this uses BPF, only the root user can use this tool.
.SH REQUIREMENTS
CONFIG_BPF and bcc.
.SH OPTIONS
\-h
Print usage message.
\-Q
Trace and display queue latency, which is the amount of time from the moment
the I/O was inserted into a queue, and the moment it was issued to the device.
.SH EXAMPLES
.TP
Trace all block device I/O and print a summary line per I/O:
#
.B biosnoop
.TP
Trace all block device I/O including queue latency:
#
.B biosnoop \-Q
.SH FIELDS
.TP
TIME(s)
Time of the I/O, in seconds since the first I/O was seen.
.TP
COMM
The process name.
.TP
PID
The process id.
.TP
DISK
Disk device name.
.TP
T
Type of I/O: R = read, W = write, etc. -- from the RWBS field.
.TP
SECTOR
Device sector for the I/O.
.TP
BYTES
Size of the I/O, in bytes.
.TP
LAT(ms)
Time for the I/O (latency) from the issue to the device, to its completion,
in milliseconds.
.TP
QLAT(ms)
Time for the I/O (latency) from the enqueue to a request queue, to the issue to
the device, in milliseconds.
.SH OVERHEAD
Since block device I/O usually has a relatively low frequency (< 10,000/s),
the overhead for this tool is expected to be negligible. For high IOPS storage
systems, test and quantify before use.
.SH SOURCE
This is from bcc.
.IP
https://github.com/iovisor/bcc
.PP
Also look in the bcc distribution for a companion _examples.txt file containing
example usage, output, and commentary for this tool.
.SH OS
Linux
.SH STABILITY
Unstable - in development.
.SH AUTHORS
Brendan Gregg, Sasha Goldshtein
.SH SEE ALSO
disksnoop(8), iostat(1), biolatency(8), biotop(8)
